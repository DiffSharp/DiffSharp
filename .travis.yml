language: csharp
solution: DiffSharp.sln

services:
  - docker


matrix:
  include:
    - dotnet: 2.1.302
      mono: none
      os: linux
      before_install:
         - docker pull ubuntu:16.04
      script:
         - docker build .

    - dotnet: 2.1.302
      mono: none
      os: osx
      before_install:
         - docker pull ubuntu:16.04
      script:
         - docker build .

      - mono: latest
      os: linux
      env: MONO=1

script:
  - ./build.sh

notifications:
  email:
    on_success: never
    on_failure: change
